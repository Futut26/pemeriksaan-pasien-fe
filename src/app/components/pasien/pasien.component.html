<div class="container-fluid py-5">
    <div class="card shadow-lg p-4">
        <h1 class="text-center mb-4 text-primary fw-bold">Data Pasien</h1>
        <div class="mb-3 text-end" *ngIf="!isFormVisible">
            <button class="btn btn-success" (click)="onAdd()">Tambah Data</button>
         </div>
        <div class="mb-3">
            <!-- Form Tambah/Edit -->
            <app-form-pasien *ngIf="isFormVisible" [pasienData]="selectedPasien"
          (formSubmit)="handleFormSubmit($event)" (cancel)="onCancel()"></app-form-pasien>
        </div>

        <div class="table-responsive">
            <table class="table table-bordered table-hover align-middle">
                <thead class="table-primary text-center">
                    <tr>
                        <th scope="col">No</th>
                        <th scope="col">Nama Psien</th>
                        <th scope="col">Umur</th>
                        <th scope="col">Jenis Kelamin</th>
                        <th scope="col">Aksi</th>
                    </tr>
                </thead>
                <tbody class="text-center">
                    <tr *ngFor="let data of pasien; let i = index">
                        <th scope="row">{{ i + 1 }}</th>
                        <td>{{ data.nama_pasien }}</td> 
                        <td>{{ data.umur }}</td>
                        <td>{{ data.jenis_kelamin == 'P' ? 'Perempuan' : 'Laki-laki' }}</td>
                        <td class="d-flex justify-content-center gap-2">
                            <button class="btn btn-sm btn-outline-warning px-3" (click)="onEdit(data)">
                                <i class="bi bi-pencil-square"></i> Edit
                            </button>
                            <button class="btn btn-sm btn-outline-danger px-3" (click)="onDelete(data.id_pasien)">
                                <i class="bi bi-trash"></i> Hapus
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>